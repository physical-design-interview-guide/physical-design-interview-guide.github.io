{{ define "main" }}

<!-- Breadcrumb — SEO + UX -->
<nav class="breadcrumb" aria-label="breadcrumb">
  <a href="{{ .Site.BaseURL }}">Home</a>
  {{ with .Params.categories }}
    {{ range first 1 . }}
      &rsaquo; <a href="/categories/{{ . | urlize }}/">{{ . }}</a>
    {{ end }}
  {{ end }}
  &rsaquo; <span>{{ .Title | truncate 50 }}</span>
</nav>

<article class="post hentry" itemscope itemtype="https://schema.org/Article">
<div class="index-box">

  <header class="entry-header">
    <h1 class="post-title entry-title" itemprop="headline">{{ .Title }}</h1>
    <div class="entry-meta">
      on <a href="{{ .Permalink }}" rel="bookmark">
        <time class="published" datetime="{{ .Date.Format "2006-01-02" }}" itemprop="datePublished">
          {{ .Date.Format "January 02, 2006" }}
        </time>
      </a>&nbsp;
      {{ with .Params.categories }}
      in
      {{ range . }}
        <a href="/categories/{{ . | urlize }}/" rel="tag" itemprop="articleSection">{{ . }}</a>
      {{ end }}&nbsp;
      {{ end }}
    </div>
  </header>

  <div class="post-body entry-content" itemprop="articleBody">
    {{ .Content }}
  </div>

  <!-- Post ad — desktop 728x90 (effectivegatecpm), mobile 300x250 (highperformanceformat) -->
  <div style="clear:both; margin:25px 0 15px; text-align:center;" id="post-ad-slot"></div>
  <script>
  (function(){
    var slot = document.getElementById('post-ad-slot');
    if (!slot) return;
    var isMobile = window.innerWidth <= 768;
    if (isMobile) {
      /* Mobile: 300x250 via highperformanceformat */
      atOptions = { 'key': '{{ .Site.Params.adsterra_mobile_post_key }}', 'format': 'iframe', 'height': 250, 'width': 300, 'params': {} };
      var s = document.createElement('script');
      s.src = 'https://www.highperformanceformat.com/{{ .Site.Params.adsterra_mobile_post_key }}/invoke.js';
      slot.appendChild(s);
    } else {
      /* Desktop: 728x90 via effectivegatecpm (different network, different URL) */
      atOptions = { 'key': '{{ .Site.Params.adsterra_desktop_post_key }}', 'format': 'iframe', 'height': 90, 'width': 728, 'params': {} };
      var s = document.createElement('script');
      s.src = 'https://pl28748027.effectivegatecpm.com/{{ .Site.Params.adsterra_desktop_post_key }}/invoke.js';
      slot.appendChild(s);
    }
  })();
  </script>

  <div class="post-share pbtsharethisbutt">
    Share:
    <a href="https://www.facebook.com/share.php?u={{ .Permalink }}"
       target="_blank" rel="nofollow noopener" title="Share on Facebook">
      <i class="fa fa-facebook"></i>
    </a>
    <a href="https://twitter.com/intent/tweet?text={{ .Title | urlize }}&url={{ .Permalink }}"
       target="_blank" rel="nofollow noopener" title="Tweet This!">
      <i class="fa fa-twitter"></i>
    </a>
    <a href="https://www.linkedin.com/sharing/share-offsite/?url={{ .Permalink }}"
       target="_blank" rel="nofollow noopener" title="Share on LinkedIn">
      <i class="fa fa-linkedin"></i>
    </a>
  </div>

  <div style="clear:both;"></div>

  <div class="blog-pager" id="blog-pager" style="margin-top:20px;">
    {{ with .PrevInSection }}
    <span id="blog-pager-newer-link">
      <a class="blog-pager-newer-link" href="{{ .Permalink }}">&#8249; {{ .Title }}</a>
    </span>
    {{ end }}
    {{ with .NextInSection }}
    <span id="blog-pager-older-link">
      <a class="blog-pager-older-link" href="{{ .Permalink }}">{{ .Title }} &#8250;</a>
    </span>
    {{ end }}
    <a class="home-link" href="{{ .Site.BaseURL }}">Home</a>
    <div style="clear:both;"></div>
  </div>

  <!-- ===== COMMENTS via Giscus ===== -->
  <div id="comments">
    <script src="https://giscus.app/client.js"
            data-repo="physical-design-interview-guide/physical-design-interview-guide.github.io"
            data-repo-id="R_kgDORaXRBg"
            data-category="Comments"
            data-category-id="DIC_kwDORaXRBs4C3WjA"
            data-mapping="pathname"
            data-strict="0"
            data-reactions-enabled="1"
            data-emit-metadata="0"
            data-input-position="top"
            data-theme="light"
            data-lang="en"
            data-loading="lazy"
            crossorigin="anonymous"
            async>
    </script>
  </div>

</div>
</article>
{{ end }}