<header class="site-header" id="masthead" role="banner">

  <!-- Branding -->
  <div class="site-branding">
    <div id="header-inner">
      <a class="logo-link" href="{{ .Site.BaseURL }}">
        <picture>
          <source srcset="/img/physical-design-interview-guide.webp" type="image/webp"/>
          <img class="header-logo"
               src="/img/physical-design-interview-guide-small.jpg"
               alt="{{ .Site.Title }} Logo"
               width="80" height="80"
               fetchpriority="high"/>
        </picture>
      </a>
      <div class="titlewrapper">
        {{ if .IsHome }}
          <h1 class="site-title"><a href="{{ .Site.BaseURL }}">{{ .Site.Title }}</a></h1>
        {{ else }}
          <p class="site-title"><a href="{{ .Site.BaseURL }}">{{ .Site.Title }}</a></p>
        {{ end }}
        <p class="site-description">{{ .Site.Params.description }}</p>
      </div>
    </div>
  </div>

  <!-- Navigation -->
  <nav class="main-navigation" id="site-navigation" role="navigation">

    <!-- Mobile hamburger -->
    <button class="menu-toggle" aria-controls="primary-menu" aria-expanded="false">â˜°</button>

    <div class="nav-inner">
      <!-- Single ul contains pills + toggle + search so hamburger captures all -->
      <ul id="primary-menu">
        {{ range .Site.Menus.main }}
          <li{{ if $.IsMenuCurrent "main" . }} class="current"{{ end }}>
            <a href="{{ .URL }}">{{ .Name }}</a>
          </li>
        {{ end }}

        <!-- Theme toggle as a menu item -->
        <li class="nav-btn-item">
          <button class="theme-toggle"
                  aria-label="Toggle dark mode"
                  onclick="window.toggleTheme && window.toggleTheme()"
                  type="button">
            <span class="sun" aria-hidden="true">â˜€ï¸</span>
            <span class="moon" aria-hidden="true">ğŸŒ™</span>
          </button>
        </li>

        <!-- Search toggle as a menu item -->
        <li class="nav-btn-item">
          <button class="search-toggle" aria-label="Search" type="button">ğŸ”</button>
        </li>
      </ul>
    </div>

  </nav>

  <!-- Search box -->
  <div class="search-box-wrapper" id="search-container">
    <form action="/search/" method="get" role="search">
      <input type="search" name="q" id="search-input" placeholder="Search posts..." aria-label="Search"/>
      <button type="submit">Search</button>
    </form>
  </div>

</header>